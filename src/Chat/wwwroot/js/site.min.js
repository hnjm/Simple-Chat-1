var viewModel={username:ko.observable("New user"),messages:ko.observableArray([]),message:ko.observable(null),isLoading:ko.observable(!1),addMessage:function(e){viewModel.messages.push(e)},sendMessage:function(){var e=viewModel.message(),s=viewModel.username();return $.ajax({url:"/api/messages/sendMessage",type:"POST",data:{username:s,text:e}}),viewModel.message(null),!1},init:function(){viewModel.isLoading(!0),$.connection.hub.logging=!0;var e=$.connection.messages;e.client.receiveMessage=function(e){viewModel.addMessage(e)},$.connection.hub.start().done(function(){viewModel.isLoading(!1)})}};viewModel.init(),ko.applyBindings(viewModel,$("#chat-hub")[0]);